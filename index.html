<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Мой документ</title>
</head>
<body>
   <header>
      <nav>
         <ul>
            <li><a href="#"> Меню 1</a></li>
            <li><a href="#"> Меню 2</a></li>
         </ul>
      </nav>   
   <header>

   <section>
      <p>
         <a href="demo.html" target="_blank">переход на ссылку демо</a>
      </p>
   <h1>Нотация описания архитектуры приложения</h1>
   
   <h2>Мотивация</h2>

   <!-- <img src="http://cdn-bucket.hb.bizmrg.com/purple-images/posts/ps-architecture-notation/image1.jpg" alt="Примеры оформление блоков в архитектуре"> -->

   <p>
      Я, как <span style="color: red;">технический директор &amp;</span>, регулярно сталкиваюсь с необходимостью обсудить с командой архитектуру нового приложения
   или микросервиса. И в рамках таких обсуждений <sup><a href="index.html" style="color: red;">1</a></sup> я понял, что не существует единого подхода, который позволил бы эффективно
   общаться команде, обсуждая архитектурные решения<sub>sub</sub>.
   </p>
   <hr>  
   <p>
      Понятно, что на словах это не объяснишь и приходится прибегать к дополнительным инструментам в виде доски и маркера или
   же при текущих реалиях - online доски типа <a href="https://miro.com/ru/" target="_blank">Miro</a>. Но даже в этом случае обсуждение сваливается в хаотично нарисованные
   квадратики, круги или прямоугольники с текстом, как-то соединённые стрелками.
   </p>

   <p> 
      При этом от обсуждения к обсуждению одна и так же схема может быть нарисована 1000 разными способами. Кто-то в
   творческом порыве начинает рисовать иконки пользователей или серверов, а кто-то рисует поток из 10 стрелок, чтобы
   показать все возможные варианты взаимодействия. И это - не эффективная коммуникация, где одно и тоже можно понять
   по-разному при этом потратив какое-то время на пояснение чем шестиугольник отличается круга.
   </p>
   
   <div>
      <a href="https://miro.com/ru/" target="_blank">Miro</a>
      <a href="https://miro.com/ru/" target="_blank">Miro</a>
   </div>
 <h2>А что есть?</h2>

   <p>
      Осознав проблемы я первым делом начал искать готовые варианты. Вот несколько из них:
   </p>

   <ul><li>
   Диаграмма классов - иногда бывает удобной для анализа уже существующего кода, но не применима для изначального
   проектирования, где мы оперируем более верхне уровневыми объектами.
   </li> </ul>
   <ul><li>
      c4model - уже ближе к теме и предлагает 4 уровня детализации схемы программного обеспечения. Но часто из всех 4-х
   уровней подходит 3-й, когда мы планируем новый сервис, а на 3-м уровне стандартов описания немного. Отлично подходит для
   верхнего уровня описания системы, но при детализации на компоненты не имеет детальных стандартов.
   </li></ul>
   Потому после нескольких экспериментов, я решил подготовить простую нотацию, которая позволит описать архитектуру
   приложений на том уровне, чтобы мы могли:
   <ul> <li>Разбить создание его на задачи. </li></ul>
   <ul> <li> Проверить корректность деления на модули, чтобы сократить их связанность. </li></ul>
   <ul><li> Упростить коммуникацию в команде при обсуждении деталей проектирования приложения.</li></ul>
   <ul><li>Использовать её для документирования архитектуры как монолита, так и микросервисов. </li></ul>
   <h2>Требования к нотации</h2>
   Перед тем, как переходить к описанию предлагаемой нотации следует сформулировать требования, которым она должна
   удовлетворять:
   <ul><li> Она должна на верхнем уровне описывать отделимые части системы, которые далее я буду назвать «компоненты».</li></ul>
   <ul><li> Связи между ними должны описать зависимости и поток вызовов, но не быть слишком усложнены. По связям должно быть сразу
   понятно наличии архитектурных ошибок.</li></ul>
   <ul><li>Схема должна подходить как для описания монолитного приложения, так и микросервисной архитектору.</li></ul>
   <ul><li>Фокус должен быть на описании нашей архитектуры, максимально абстрагировавшись от внешних систем.</li></ul>
   Ниже будет написано мое видение такой нотации с учётом опыта тестирования её вместе с командой. На практике она
   позволила в кратчайшие сроки обсуждать изменения в архитектуре или планировать полноценные новые сервисы или приложения.

   <h2>Компоненты</h2>
<p>
   
   Стоит начать рассмотрение именно с компонент, так как они являются строительными блоками всей нашей диаграммы. Это
   изолированный с точки зрения логики кусок кода, который может в реальности представлять собой класс или отдельный файл.
</p>
<p> Это может быть:</p>
<ul>
   <li>Контроллер, которые обрабатывает входящие запросы.</li>
   <li>Сервис, отвечающий за бизнес логику работы с платежами.</li>
   <li>Репозиторий, взаимодействующий с базой данных.</li>
   <li>Обработчик event событий при использовании event sourcing.</li>
   <li>Бизнес entity пользователя, содержащие поля для него и методы работы.</li>
</ul>
<p> Фактически все, что вы можете выделить в виде класса с инкапсулированной логикой - это компонент.</p>
Для того чтобы максимально полно описать компонент можно указать следующие параметры:
<ul>
   <li>Имя - название компонента, отражающие его суть или даже название класса</li>
   <li>Тип - чтобы понять что это контроллер или репозиторий</li>
   <li>Пояснение - если требуется дополнительное описание.</li>
</ul>

<p>Примеры:</p>

<img src="./images/image1.jpg" alt="Примеры оформление блоков в архитектуре">
</section>

<table>
   <caption>
      Структура расходов 
   </caption>
   <thead>
   <tr>
      <th rowspan="2">Статья</th>
      <th colspan="2">Сумма</th>
   </tr>
   <tr>
      <th>Руб</th>
      <th>$</th>
   </tr>
   </thead>
   <tbody>
   <tr>

      <td> Зарплата </td>
      <td>100 000</td>
      <td>2 000</td>

   <tr>
      <td> Сервисы </td>
      <td>30 000</td>
      <td>700</td>

   </tr>
      
   </tr>
   </tbody>
   <tfoot>
      <td>Итог</td>
      <td>130 000</td>
      <td>2300</td>

   </tfoot>
</table>

<table>

   <caption> 
      Таблица расходов и доходов
   </caption>

<thead>
<tr>
   <th>Год</th>
   <th colspan="2">2023</th>
   <th colspan="2">2024</th>
   
</tr>

<tr>
   <th> Полугодие</th>
   <th>1</th>
   <th>2</th>
   <th>1</th>
   <th>2</th>
</tr>
</thead>
<tbody>
<tr>
   <td>Доход</td>
   <td>1500$</td>
   <td>1800$</td>
   <td>2000$</td>
   <td>3000$</td>
</tr>


<tr>
   <td>Расход</td>
   <td>-500$</td>
   <td>-600$</td>
   <td>-700$</td>
   <td>-1000$</td>
</tr>


   </tbody>

   <tfoot>
      <tr>
         <td>Итог</td>
         <td>1000$</td>
         <td>1200$</td>
         <td>1300$</td>
         <td>2000$</td>
      </tr>
   </tfoot>

</table>

<footer>Футер</footer>
</body>
</html>